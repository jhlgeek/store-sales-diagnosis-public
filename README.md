# 外卖平台门店销售诊断（公开版 / 匿名化）

> **目标**：用真实业务场景（线上外卖平台）做一个可复现的数据分析项目作品集。  
> **说明**：数据已做匿名化处理（门店/城市/敏感字段已替换），仅用于展示分析方法与思路；不包含线下销售等全渠道数据。

---

## 速览（给面试官/HR）

- **业务问题**：本月 GMV（销售额）波动与峰值由谁贡献？若 GMV 下滑，主要由哪些门店/哪些经营因素驱动？
- **核心拆解**：GMV = Orders × AOV（客单价），结合 Active SKU（当日活跃 SKU）观察“供给/上新/活动”对订单的影响
- **方法**：按“门店×日期”聚合 → 趋势与峰值拆解 → 下滑贡献（TopN）→ 结构变化解释（如一口价、拼好饭等）
- **产出**：可复现 Notebook + 图表 + 匿名化公开数据（聚合层）

> GMV（Gross Merchandise Value）：这里特指**线上渠道**的商品销售额（不含线下）。

---

## 1. 项目背景与问题定义

这是多家门店在**某外卖平台线上渠道**的订单与商品销售数据（按天、按门店、按商品维度记录），不包含线下销售等数据。

本项目围绕一个典型经营问题展开：

- **问题 1：** 本月 GMV 波动与峰值来自哪里？（时间/门店贡献）
- **问题 2：** 若出现 GMV 下滑，主要由哪些门店贡献了下滑？
- **问题 3：** 在价格相对稳定的前提下，GMV 变化更可能由哪些经营因素驱动？（订单量、SKU 活跃度、订单结构等）

---

## 2. 数据说明（公开版）

- **数据来源**：线上外卖平台门店销售明细（多门店、多商品、按天）
- **公开数据**：本仓库仅提供**匿名化后的聚合结果**，不包含原始明细与可识别信息

### 目录结构

- `data_public/`：匿名化后的公开数据（按天、按门店聚合）
- `notebooks/`：分析 Notebook（可复现）
- `outputs_public/`：输出图表与表格（供 README/报告引用）

---

## 3. 分析方法与核心指标

### 3.1 指标拆解（主线）

- **GMV = Orders × AOV**
  - **Orders**：订单量
  - **AOV**（Average Order Value）：客单价（每单销售额）

在商家标价整体稳定的业务背景下，GMV 的主要波动往往来自：
- 订单量的变化（流量/转化/供给变化带来的下单变化）
- 订单结构变化（例如活动套餐、上新、特定下单方式占比变化）

### 3.2 关键辅助指标（解释用）

- **Active SKU**：当日活跃 SKU 数（用于观察商品供给/上新/活动对订单的影响）
- **门店贡献（Store contribution）**：GMV 变化的贡献（定位主要下滑门店）
- **下单方式占比**（如一口价/拼好饭）：用于观察结构变化（作为辅助解释，不作为唯一结论）

---

## 4. 结果产出（建议从这里开始看）

### 推荐阅读路径（面试官友好）
1. 先看：`notebooks/02_insights_report_public.ipynb`（诊断报告：趋势 + 峰值拆解 + 下滑贡献 + 解释）
2. 再看：`notebooks/01_build_public.ipynb`（如何从明细构建公开数据：聚合 + 匿名化 + 导出）

### Notebook
- `notebooks/01_build_public.ipynb`：构建公开数据（聚合 + 匿名化 + 导出）
- `notebooks/02_insights_report_public.ipynb`：诊断报告（趋势 + 峰值分析 + 下滑贡献 + 解释）

### 典型输出（outputs_public）
- GMV / Orders 趋势图
- 峰值日拆解（Top 门店贡献）
- GMV 下滑贡献 TopN（门店层）
- 结构变化与下滑关系的探索性检验（相关/分组对比）

---

## 5. 如何复现运行（本地）

> 你可以选择 conda 或 venv。推荐 conda（更稳定）。

### 5.1 安装依赖
```bash
pip install -r requirements.txt
